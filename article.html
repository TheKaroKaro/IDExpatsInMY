<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>Article - IndoMY</title>
<style>
  :root{ --primary:#FF6B6B; --dark:#2C3E50; }
  body{ font-family:'Inter',system-ui; background:#f0f2f5; }
  .wrap{ max-width:900px; margin:2rem auto; background:#fff; padding:2rem; border-radius:20px; box-shadow:0 8px 30px rgba(0,0,0,.08); }
  .title{ margin:0 0 .5rem; color:var(--primary); }
  .muted{ color:#667; }
  .hero{ width:100%; max-height:360px; object-fit:cover; border-radius:14px; margin:1rem 0; }
</style>
</head>
<body>
  <div class="wrap">
    <div id="view">Loading…</div>
  </div>

  <script>
    async function fetchJSON(url){ const r=await fetch(url); if(!r.ok) throw new Error(await r.text()); return r.json(); }
    const slug = new URLSearchParams(location.search).get('slug');
    if (!slug) location.href='index.html';
    (async ()=>{
      try {
        const data = await fetchJSON(`/api/articles?slug=${encodeURIComponent(slug)}`);
        const r = data.record;
        if (!r) { document.getElementById('view').textContent='Not found'; return; }
        const f = r.fields;
        document.title = f.Title + ' - IndoMY';
        document.getElementById('view').innerHTML = `
          <h1 class="title">${f.Title}</h1>
          <p class="muted">By ${f.Author || 'Anonymous'} • ${f.Category || 'General'}</p>
          ${f.ImageURL ? `<img class="hero" src="${f.ImageURL}" alt="">` : ''}
          <div>${(f.Content || '').replace(/\n/g,'<br/>')}</div>
        `;
      } catch(e){ console.error(e); document.getElementById('view').textContent='Error loading article'; }
    })();
  </script>
</body>
</html>
``